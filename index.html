<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Island</title>
    <link rel="stylesheet" href="node_modules/animate.css/animate.min.css">
    <link href='https://fonts.googleapis.com/css?family=PT+Sans|Autour+One|Source+Code+Pro' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/style.css">
	  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-6MDRC5F8WG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-6MDRC5F8WG');
</script>
  </head>
  <body onload="loadgame()">
    <section id="sidebar">
      <div class="header">
        <div>
          <h1 class="title">Island</h1>
        </div>
      </div>
<!--
	  <table style=" width: 100%;margin-top: 10vh" >
		<tbody>
		<tr>
		<td style="width: 20%;"><h2 style="font-size: 2vw;"> Size : </h2></td>
		<td style="width: 80%;">		
			<div class="select">
			  <select name="slct" id="slct"  onchange="setSize()">
				<option selected value="4">4x4</option>
				<option value="5">5x5</option>
				<option value="6">6x6</option>
				<option value="7">7x7</option>
				<option value="8">8x8</option>
			  </select>
			</div>
		</td>
		</tr>
		</tbody>
		</table>
-->
	  <table class="level" style=" width: 100%;margin-top:15vh" >
		<tbody>
		<tr>
		<td style="width: 20%;"><h2 style="font-size: 2vw;" id="levelname">&nbsp;Level&nbsp;:&nbsp;</h2></td>
		<td style="width: 80%;">		
			<div class="select">
			  <select name="level" id="level"  onchange="loadgame()">
				<option selected value="1">1</option>
				<option  value='2'>2</option>
				<option  value='3'>3</option>
				<option  value='4'>4</option>
				<option  value='5'>5</option>
				<option  value='6'>6</option>
				<option  value='7'>7</option>
				<option  value='8'>8</option>
				<option  value='9'>9</option>
				<option  value='10'>10</option>
				<option  value='11'>11</option>
				<option  value='12'>12</option>
				<option  value='13'>13</option>
				<option  value='14'>14</option>
				<option  value='15'>15</option>
				<option  value='16'>16</option>
				<option  value='17'>17</option>
				<option  value='18'>18</option>
				<option  value='19'>19</option>
				<option  value='20'>20</option>
				<option  value='21'>21</option>
				<option  value='22'>22</option>
				<option  value='23'>23</option>
				<option  value='24'>24</option>
				<option  value='25'>25</option>
				<option  value='26'>26</option>
				<option  value='27'>27</option>
				<option  value='28'>28</option>
				<option  value='29'>29</option>
				<option  value='30'>30</option>
				<option  value='31'>31</option>
				<option  value='32'>32</option>
				<option  value='33'>33</option>
				<option  value='34'>34</option>
				<option  value='35'>35</option>
				<option  value='36'>36</option>
				<option  value='37'>37</option>
				<option  value='38'>38</option>
				<option  value='39'>39</option>
				<option  value='40'>40</option>
				<option  value='41'>41</option>
				<option  value='42'>42</option>
				<option  value='43'>43</option>
				<option  value='44'>44</option>
				<option  value='45'>45</option>
				<option  value='46'>46</option>
				<option  value='47'>47</option>
				<option  value='48'>48</option>
				<option  value='49'>49</option>
				<option  value='50'>50</option>
<!--				<option  value='51'>51</option>
				<option  value='52'>52</option>
				<option  value='53'>53</option>
				<option  value='54'>54</option>
				<option  value='55'>55</option>
				<option  value='56'>56</option>
				<option  value='57'>57</option>
				<option  value='58'>58</option>
				<option  value='59'>59</option>
				<option  value='60'>60</option>
				<option  value='61'>61</option>
				<option  value='62'>62</option>
				<option  value='63'>63</option>
				<option  value='64'>64</option>
				<option  value='65'>65</option>
				<option  value='66'>66</option>
				<option  value='67'>67</option>
				<option  value='68'>68</option>
				<option  value='69'>69</option>
				<option  value='70'>70</option>
				<option  value='71'>71</option>
				<option  value='72'>72</option>
				<option  value='73'>73</option>
				<option  value='74'>74</option>
				<option  value='75'>75</option>
				<option  value='76'>76</option>
				<option  value='77'>77</option>
				<option  value='78'>78</option>
				<option  value='79'>79</option>
				<option  value='80'>80</option>
				<option  value='81'>81</option>
				<option  value='82'>82</option>
				<option  value='83'>83</option>
				<option  value='84'>84</option>
				<option  value='85'>85</option>
				<option  value='86'>86</option>
				<option  value='87'>87</option>
				<option  value='88'>88</option>
				<option  value='89'>89</option>
				<option  value='90'>90</option>
				<option  value='91'>91</option>
				<option  value='92'>92</option>
				<option  value='93'>93</option>
				<option  value='94'>94</option>
				<option  value='95'>95</option>
				<option  value='96'>96</option>
				<option  value='97'>97</option>
				<option  value='98'>98</option>
				<option  value='99'>99</option>
				<option  value='100'>100</option>
				<option  value='101'>101</option>
				<option  value='102'>102</option>
				<option  value='103'>103</option>
				<option  value='104'>104</option>
				<option  value='105'>105</option>
				<option  value='106'>106</option>
				<option  value='107'>107</option>
				<option  value='108'>108</option>
				<option  value='109'>109</option>
				<option  value='110'>110</option>
				<option  value='111'>111</option>
				<option  value='112'>112</option>
				<option  value='113'>113</option>
				<option  value='114'>114</option>
				<option  value='115'>115</option>
				<option  value='116'>116</option>
				<option  value='117'>117</option>
				<option  value='118'>118</option>
				<option  value='119'>119</option>
				<option  value='120'>120</option> -->
			  </select>
			</div>
		</td>
		</tr>
		</tbody>
		</table>
<table class="button_1" style=" width: 100%;margin-top: 25vh;" >
<tbody>
<tr>
<!--<td style="width: 33.3333%;"> <button class="button-one" onclick="newgame()">New</button></td>-->
<td style="width: 25%;"> <button class="button-one" onclick="loadgame()">Restart</button></td>
<td style="width: 25%;"> <button class="button-one" onclick="solve()">Solve</button></td>
<td style="width: 25%;"> <button class="button-one" onclick="help()">Help</button></td>
</tr>
</tbody>
</table>
<div id="finished" class="overlay">
	<div class="popup">
		<h2>Congratulations</h2>
		<a class="close" href="#" onclick="closefinish()">&times;</a>
		<div class="content">
					<img
            src="img\happy.png"
            alt=""
          />
		  <br>
			<h3>You have successfully completed the level.</h3>
			<br>
			<button class="btn-gradient" onclick="closefinish()">OK</button>
		</div>
	</div>
</div>
<div id="gameover" class="overlay">
	<div class="popup">
		<h2>Game Over</h2>
		<a class="close" href="#" onclick="closegameover()">&times;</a>
		<div class="content">
		<img
            src="img\sad.png"
            alt=""
          />
		  <br>
			<h3>No possible move exists! Please try again.</h3>
			<br>
			<button class="btn-gradient" onclick="closegameover()">OK</button>
		</div>
	</div>
</div>
<div id="help" class="overlay">
	<div class="popup">
		<h2>Help</h2>
		<a class="close" href="#" onclick="closehelp()">&times;</a>
		<div class="content">
			Island a binary determination puzzle based on Nurikabe.You must decide for each cell if it is green land or water stream (by clicking on them) according to the following rules:
<ul> <li>All of the Water stream cells must be connected.</li>
<li>Each numbered cell must be part of a island of connected green land cells.</li>
<li>Each island must have the same number of green land cells as the number it contains (including the numbered cell).</li>
<li>Two islands may not be connected.</li>
<li>There cannot be any pond , i.e. 2x2 or larger blocks of water cells</li> </ul>
		</div>
	</div>
</div>
    </section>
    <section id="view">
      <div id="board">
        <div id="overlay">	
			<span class="plot" onclick="move(1)"></span>
			<span class="plot" onclick="move(2)"></span>
			<span class="plot" onclick="move(3)"></span>
			<span class="plot" onclick="move(4)"></span>
			<span class="plot" onclick="move(5)"></span>
			<span class="plot" onclick="move(6)"></span>
			<span class="plot" onclick="move(7)"></span>
			<span class="plot" onclick="move(8)"></span>
			<span class="plot" onclick="move(9)"></span>
			<span class="plot" onclick="move(10)"></span>
			<span class="plot" onclick="move(11)"></span>
			<span class="plot" onclick="move(12)"></span>
			<span class="plot" onclick="move(13)"></span>
			<span class="plot" onclick="move(14)"></span>
			<span class="plot" onclick="move(15)"></span>
			<span class="plot" onclick="move(16)"></span>
			<span class="plot" onclick="move(17)"></span>
			<span class="plot" onclick="move(18)"></span>
			<span class="plot" onclick="move(19)"></span>
			<span class="plot" onclick="move(20)"></span>
			<span class="plot" onclick="move(21)"></span>
			<span class="plot" onclick="move(22)"></span>
			<span class="plot" onclick="move(23)"></span>
			<span class="plot" onclick="move(24)"></span>
			<span class="plot" onclick="move(25)"></span>
			<span class="plot" onclick="move(26)"></span>
			<span class="plot" onclick="move(27)"></span>
			<span class="plot" onclick="move(28)"></span>
			<span class="plot" onclick="move(29)"></span>
			<span class="plot" onclick="move(30)"></span>
			<span class="plot" onclick="move(31)"></span>
			<span class="plot" onclick="move(32)"></span>
			<span class="plot" onclick="move(33)"></span>
			<span class="plot" onclick="move(34)"></span>
			<span class="plot" onclick="move(35)"></span>
			<span class="plot" onclick="move(36)"></span>
			<span class="plot" onclick="move(37)"></span>
			<span class="plot" onclick="move(38)"></span>
			<span class="plot" onclick="move(39)"></span>
			<span class="plot" onclick="move(40)"></span>
			<span class="plot" onclick="move(41)"></span>
			<span class="plot" onclick="move(42)"></span>
			<span class="plot" onclick="move(43)"></span>
			<span class="plot" onclick="move(44)"></span>
			<span class="plot" onclick="move(45)"></span>
			<span class="plot" onclick="move(46)"></span>
			<span class="plot" onclick="move(47)"></span>
			<span class="plot" onclick="move(48)"></span>
			<span class="plot" onclick="move(49)"></span>
			<span class="plot" onclick="move(50)"></span>
			<span class="plot" onclick="move(51)"></span>
			<span class="plot" onclick="move(52)"></span>
			<span class="plot" onclick="move(53)"></span>
			<span class="plot" onclick="move(54)"></span>
			<span class="plot" onclick="move(55)"></span>
			<span class="plot" onclick="move(56)"></span>
			<span class="plot" onclick="move(57)"></span>
			<span class="plot" onclick="move(58)"></span>
			<span class="plot" onclick="move(59)"></span>
			<span class="plot" onclick="move(60)"></span>
			<span class="plot" onclick="move(61)"></span>
			<span class="plot" onclick="move(62)"></span>
			<span class="plot" onclick="move(63)"></span>
			<span class="plot" onclick="move(64)"></span>
			<span class="plot" onclick="move(65)"></span>
			<span class="plot" onclick="move(66)"></span>
			<span class="plot" onclick="move(67)"></span>
			<span class="plot" onclick="move(68)"></span>
			<span class="plot" onclick="move(69)"></span>
			<span class="plot" onclick="move(70)"></span>
			<span class="plot" onclick="move(71)"></span>
			<span class="plot" onclick="move(72)"></span>
			<span class="plot" onclick="move(73)"></span>
			<span class="plot" onclick="move(74)"></span>
			<span class="plot" onclick="move(75)"></span>
			<span class="plot" onclick="move(76)"></span>
			<span class="plot" onclick="move(77)"></span>
			<span class="plot" onclick="move(78)"></span>
			<span class="plot" onclick="move(79)"></span>
			<span class="plot" onclick="move(80)"></span>
			<span class="plot" onclick="move(81)"></span>
			<span class="plot" onclick="move(82)"></span>
			<span class="plot" onclick="move(83)"></span>
			<span class="plot" onclick="move(84)"></span>
			<span class="plot" onclick="move(85)"></span>
			<span class="plot" onclick="move(86)"></span>
			<span class="plot" onclick="move(87)"></span>
			<span class="plot" onclick="move(88)"></span>
			<span class="plot" onclick="move(89)"></span>
			<span class="plot" onclick="move(90)"></span>
			<span class="plot" onclick="move(91)"></span>
			<span class="plot" onclick="move(92)"></span>
			<span class="plot" onclick="move(93)"></span>
			<span class="plot" onclick="move(94)"></span>
			<span class="plot" onclick="move(95)"></span>
			<span class="plot" onclick="move(96)"></span>
			<span class="plot" onclick="move(97)"></span>
			<span class="plot" onclick="move(98)"></span>
			<span class="plot" onclick="move(99)"></span>
			<span class="plot" onclick="move(100)"></span>
        </div>
		<div id="land_layout">	
			<span class="plot" id="bcell1" ></span>
			<span class="plot" id="bcell2" ></span>
			<span class="plot" id="bcell3" ></span>
			<span class="plot" id="bcell4" ></span>
			<span class="plot" id="bcell5" ></span>
			<span class="plot" id="bcell6" ></span>
			<span class="plot" id="bcell7" ></span>
			<span class="plot" id="bcell8" ></span>
			<span class="plot" id="bcell9" ></span>
			<span class="plot" id="bcell10"></span>
			<span class="plot" id="bcell11"></span>
			<span class="plot" id="bcell12"></span>
			<span class="plot" id="bcell13"></span>
			<span class="plot" id="bcell14"></span>
			<span class="plot" id="bcell15"></span>
			<span class="plot" id="bcell16"></span>
			<span class="plot" id="bcell17"></span>
			<span class="plot" id="bcell18"></span>
			<span class="plot" id="bcell19"></span>
			<span class="plot" id="bcell20"></span>
			<span class="plot" id="bcell21"></span>
			<span class="plot" id="bcell22"></span>
			<span class="plot" id="bcell23"></span>
			<span class="plot" id="bcell24"></span>
			<span class="plot" id="bcell25"></span>
			<span class="plot" id="bcell26"></span>
			<span class="plot" id="bcell27"></span>
			<span class="plot" id="bcell28"></span>
			<span class="plot" id="bcell29"></span>
			<span class="plot" id="bcell30"></span>
			<span class="plot" id="bcell31"></span>
			<span class="plot" id="bcell32"></span>
			<span class="plot" id="bcell33"></span>
			<span class="plot" id="bcell34"></span>
			<span class="plot" id="bcell35"></span>
			<span class="plot" id="bcell36"></span>
			<span class="plot" id="bcell37"></span>
			<span class="plot" id="bcell38"></span>
			<span class="plot" id="bcell39"></span>
			<span class="plot" id="bcell40"></span>
			<span class="plot" id="bcell41"></span>
			<span class="plot" id="bcell42"></span>
			<span class="plot" id="bcell43"></span>
			<span class="plot" id="bcell44"></span>
			<span class="plot" id="bcell45"></span>
			<span class="plot" id="bcell46"></span>
			<span class="plot" id="bcell47"></span>
			<span class="plot" id="bcell48"></span>
			<span class="plot" id="bcell49"></span>
			<span class="plot" id="bcell50"></span>
			<span class="plot" id="bcell51"></span>
			<span class="plot" id="bcell52"></span>
			<span class="plot" id="bcell53"></span>
			<span class="plot" id="bcell54"></span>
			<span class="plot" id="bcell55"></span>
			<span class="plot" id="bcell56"></span>
			<span class="plot" id="bcell57"></span>
			<span class="plot" id="bcell58"></span>
			<span class="plot" id="bcell59"></span>
			<span class="plot" id="bcell60"></span>
			<span class="plot" id="bcell61"></span>
			<span class="plot" id="bcell62"></span>
			<span class="plot" id="bcell63"></span>
			<span class="plot" id="bcell64"></span>
			<span class="plot" id="bcell65"></span>
			<span class="plot" id="bcell66"></span>
			<span class="plot" id="bcell67"></span>
			<span class="plot" id="bcell68"></span>
			<span class="plot" id="bcell69"></span>
			<span class="plot" id="bcell70"></span>
			<span class="plot" id="bcell71"></span>
			<span class="plot" id="bcell72"></span>
			<span class="plot" id="bcell73"></span>
			<span class="plot" id="bcell74"></span>
			<span class="plot" id="bcell75"></span>
			<span class="plot" id="bcell76"></span>
			<span class="plot" id="bcell77"></span>
			<span class="plot" id="bcell78"></span>
			<span class="plot" id="bcell79"></span>
			<span class="plot" id="bcell80"></span>
			<span class="plot" id="bcell81"></span>
			<span class="plot" id="bcell82"></span>
			<span class="plot" id="bcell83"></span>
			<span class="plot" id="bcell84"></span>
			<span class="plot" id="bcell85"></span>
			<span class="plot" id="bcell86"></span>
			<span class="plot" id="bcell87"></span>
			<span class="plot" id="bcell88"></span>
			<span class="plot" id="bcell89"></span>
			<span class="plot" id="bcell90"></span>
			<span class="plot" id="bcell91"></span>
			<span class="plot" id="bcell92"></span>
			<span class="plot" id="bcell93"></span>
			<span class="plot" id="bcell94"></span>
			<span class="plot" id="bcell95"></span>
			<span class="plot" id="bcell96"></span>
			<span class="plot" id="bcell97"></span>
			<span class="plot" id="bcell98"></span>
			<span class="plot" id="bcell99"></span>
			<span class="plot" id="bcell100"></span>
        </div>
        <div id="matrix">
			<span class="plot" id="cell1" ></span>
			<span class="plot" id="cell2" ></span>
			<span class="plot" id="cell3" ></span>
			<span class="plot" id="cell4" ></span>
			<span class="plot" id="cell5" ></span>
			<span class="plot" id="cell6" ></span>
			<span class="plot" id="cell7" ></span>
			<span class="plot" id="cell8" ></span>
			<span class="plot" id="cell9" ></span>
			<span class="plot" id="cell10"></span>
			<span class="plot" id="cell11"></span>
			<span class="plot" id="cell12"></span>
			<span class="plot" id="cell13"></span>
			<span class="plot" id="cell14"></span>
			<span class="plot" id="cell15"></span>
			<span class="plot" id="cell16"></span>
			<span class="plot" id="cell17"></span>
			<span class="plot" id="cell18"></span>
			<span class="plot" id="cell19"></span>
			<span class="plot" id="cell20"></span>
			<span class="plot" id="cell21"></span>
			<span class="plot" id="cell22"></span>
			<span class="plot" id="cell23"></span>
			<span class="plot" id="cell24"></span>
			<span class="plot" id="cell25"></span>
			<span class="plot" id="cell26"></span>
			<span class="plot" id="cell27"></span>
			<span class="plot" id="cell28"></span>
			<span class="plot" id="cell29"></span>
			<span class="plot" id="cell30"></span>
			<span class="plot" id="cell31"></span>
			<span class="plot" id="cell32"></span>
			<span class="plot" id="cell33"></span>
			<span class="plot" id="cell34"></span>
			<span class="plot" id="cell35"></span>
			<span class="plot" id="cell36"></span>
			<span class="plot" id="cell37"></span>
			<span class="plot" id="cell38"></span>
			<span class="plot" id="cell39"></span>
			<span class="plot" id="cell40"></span>
			<span class="plot" id="cell41"></span>
			<span class="plot" id="cell42"></span>
			<span class="plot" id="cell43"></span>
			<span class="plot" id="cell44"></span>
			<span class="plot" id="cell45"></span>
			<span class="plot" id="cell46"></span>
			<span class="plot" id="cell47"></span>
			<span class="plot" id="cell48"></span>
			<span class="plot" id="cell49"></span>
			<span class="plot" id="cell50"></span>
			<span class="plot" id="cell51"></span>
			<span class="plot" id="cell52"></span>
			<span class="plot" id="cell53"></span>
			<span class="plot" id="cell54"></span>
			<span class="plot" id="cell55"></span>
			<span class="plot" id="cell56"></span>
			<span class="plot" id="cell57"></span>
			<span class="plot" id="cell58"></span>
			<span class="plot" id="cell59"></span>
			<span class="plot" id="cell60"></span>
			<span class="plot" id="cell61"></span>
			<span class="plot" id="cell62"></span>
			<span class="plot" id="cell63"></span>
			<span class="plot" id="cell64"></span>
			<span class="plot" id="cell65"></span>
			<span class="plot" id="cell66"></span>
			<span class="plot" id="cell67"></span>
			<span class="plot" id="cell68"></span>
			<span class="plot" id="cell69"></span>
			<span class="plot" id="cell70"></span>
			<span class="plot" id="cell71"></span>
			<span class="plot" id="cell72"></span>
			<span class="plot" id="cell73"></span>
			<span class="plot" id="cell74"></span>
			<span class="plot" id="cell75"></span>
			<span class="plot" id="cell76"></span>
			<span class="plot" id="cell77"></span>
			<span class="plot" id="cell78"></span>
			<span class="plot" id="cell79"></span>
			<span class="plot" id="cell80"></span>
			<span class="plot" id="cell81"></span>
			<span class="plot" id="cell82"></span>
			<span class="plot" id="cell83"></span>
			<span class="plot" id="cell84"></span>
			<span class="plot" id="cell85"></span>
			<span class="plot" id="cell86"></span>
			<span class="plot" id="cell87"></span>
			<span class="plot" id="cell88"></span>
			<span class="plot" id="cell89"></span>
			<span class="plot" id="cell90"></span>
			<span class="plot" id="cell91"></span>
			<span class="plot" id="cell92"></span>
			<span class="plot" id="cell93"></span>
			<span class="plot" id="cell94"></span>
			<span class="plot" id="cell95"></span>
			<span class="plot" id="cell96"></span>
			<span class="plot" id="cell97"></span>
			<span class="plot" id="cell98"></span>
			<span class="plot" id="cell99"></span>
			<span class="plot" id="cell100"></span>
        </div>
	 </div>
    </section>
	
    <section id="button_layout">
      <div id="button_div">	
	<table  style=" width: 80%;margin-top: 2vh;  margin-left: auto;  margin-right: auto;" >
<tbody>
<tr>
<!--<td style="width: 33.3333%;"> <button class="button-one" onclick="newgame()">New</button></td>-->
<td style="width: 25%;"> <button class="button-one" onclick="loadgame()">Restart</button></td> 	  	
<td style="width: 25%;"> <button class="button-one" onclick="solve()">Solve</button></td>
<td style="width: 25%;"> <button class="button-one" onclick="help()">Help</button></td>
</tr>
</tbody>
</table>
	 </div>
    </section>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
	<script type="text/javascript">
	function setSize() {
		var x =  Math.sqrt(data_arr.length);

		const gridElement = document.querySelector("#overlay");
		gridElement.style["grid-template-columns"] = "repeat("+x+", 1fr)";
		const gridElement1 = document.querySelector("#matrix");
		gridElement1.style["grid-template-columns"] = "repeat("+x+", 1fr)";
		const gridElement2 = document.querySelector("#land_layout");
		gridElement2.style["grid-template-columns"] = "repeat("+x+", 1fr)";
		const gridElementr = document.querySelector("#overlay");
		gridElementr.style["grid-template-rows"] = "repeat("+x+", 1fr)";
		const gridElementr1 = document.querySelector("#matrix");
		gridElementr1.style["grid-template-rows"] = "repeat("+x+", 1fr)";	
		const gridElementr2 = document.querySelector("#land_layout");
		gridElementr2.style["grid-template-rows"] = "repeat("+x+", 1fr)";		
		
		
}

	












	
	
	
	
	







	var data = ['1 0 0 0 0 0 2 0 2 0 0 . 0 . 0 0 0 1 0 0 1 0 0 0 1',
						'0 0 0 . 2 2 . 0 0 0 0 0 0 . 0 . . 0 2 0 . 4 0 0 1',
						'0 3 0 0 0 0 . 0 . 2 0 . 0 0 0 0 0 2 . 0 1 0 0 0 0',
						'1 0 0 . 2 0 . 0 0 0 0 3 0 2 0 0 . 0 . 0 0 0 0 0 1',
						'1 0 0 0 1 0 . . 0 0 0 3 0 1 0 0 0 0 0 0 . . . . 5',
						'4 0 . 0 6 . 0 2 0 . . 0 0 0 . . 0 . . . 0 0 0 0 0',
						'. 0 0 0 . . 0 1 0 . . 0 0 4 . . . 0 0 0 . . . . 10',
						'1 0 0 . 2 0 2 0 0 0 0 . 0 . 0 0 0 0 2 0 . . 3 0 0',
						'. . 3 0 7 0 0 0 0 . 0 . . . . 0 0 . 0 0 1 0 0 0 1',
						'. 4 0 2 . . . 0 0 0 0 0 0 . 4 0 . 2 0 . 0 0 0 0 .',
						'1 0 0 . 2 0 . 0 0 0 0 2 0 . 0 0 0 0 . 0 6 . . . 0',
						'1 0 0 0 0 0 . 0 . 0 0 2 0 . 0 0 0 0 . 0 7 . . . 0',
						'. 0 1 0 . 2 0 0 0 . 0 0 . 0 . 0 . 3 0 . 0 0 0 6 .',
						'0 0 0 0 0 2 . 0 . 2 0 0 0 0 0 . 0 . . 4 2 0 0 0 .',
						'4 . 0 0 0 0 . . 0 . . 0 0 0 0 . 0 0 0 2 0 . 0 . 0 . 0 . 0 . 1 0 0 6 0 3',
						'. 0 0 0 0 0 . 0 . . . 0 . 0 . 7 0 0 4 0 . 0 0 1 0 0 . 0 1 0 0 1 0 0 0 0',
						'. . 10 0 0 0 . 0 0 3 . 0 . 0 1 0 . 0 . 0 0 0 0 0 . . 0 2 . 0 . . 0 0 0 1',
						'. . . . . . 0 0 17 0 0 . 1 0 0 2 0 . 0 1 0 . 0 . 0 0 0 0 0 . . . . . . .',
						'1 0 0 0 0 1 0 2 0 . . 0 0 . 0 0 3 0 0 0 0 3 0 0 . 4 0 . . 0 . . 0 0 0 0',
						'1 0 0 0 . 4 0 . 2 0 . . 0 0 0 0 0 0 0 . 0 . 2 0 0 . 0 0 0 8 0 . . . . .',
						'2 . 0 0 0 1 0 0 0 . 0 0 6 . . . . 0 0 0 0 0 0 0 . 4 0 2 . 0 . . 0 0 0 1',
						'. . . 0 0 0 4 0 0 0 . 2 0 2 . 0 0 0 0 0 0 0 . 0 0 . 2 0 . 0 1 0 0 0 3 0',
						'2 . 0 0 0 0 0 0 0 . . 3 0 2 0 0 0 0 0 . 0 . . 4 0 0 0 . 0 0 2 . 0 0 0 1',
						'1 0 0 . 3 . 0 2 0 0 0 0 0 . 0 . . 3 0 0 0 0 0 0 0 . 2 0 . . 1 0 0 0 4 .',
						'0 0 0 0 0 0 3 . . 0 . 2 0 0 0 0 0 0 0 . . 0 1 0 0 0 . 4 0 0 1 0 0 0 2 .',
						'. 4 0 2 0 7 0 . 0 . 0 . 0 . 0 0 0 . 0 0 0 . . . 0 . 2 0 . 0 0 0 0 0 0 0',
						'. 2 0 . . 5 . 0 0 0 . 0 0 0 3 . 0 0 3 0 1 0 . 0 . . 0 0 0 0 0 0 0 2 0 0 . . . 0 . 0 0 0 0 4 0 0 0',
						'6 0 . . . . 0 . 0 7 0 0 . 0 . 0 0 3 0 . 0 . . 0 . 0 0 0 0 . 0 . 0 2 0 0 0 0 0 0 . 0 4 . . . 0 0 1',
						'. 0 0 0 0 0 0 . 0 . 0 . . 0 . 0 2 0 3 0 0 . 0 0 1 0 0 . 8 . 0 0 2 0 . . 0 1 0 . 0 . . 0 0 0 0 5 .', 
						'. 2 0 0 0 0 0 0 0 7 . 0 1 0 0 . 0 . . 0 0 0 2 0 . . . 0 0 0 0 0 0 0 0 0 2 . 0 . 2 0 1 0 0 0 0 0 1', 
						'. . . 0 0 0 1 . 0 0 0 2 . 0 5 0 . 0 0 0 0 0 0 . 0 . . 0 5 . . 0 . 0 0 0 0 0 0 . 0 2 . 9 . . . 0 .', 
						'6 . . 0 0 0 . 0 0 . 0 . 0 2 7 0 . 0 2 0 0 . 0 . 0 0 4 0 . 0 0 0 . . 0 . . . 0 . 0 2 . 0 0 0 0 0 .', 
						'. 0 0 0 . . 4 . 0 . 0 . 0 0 3 0 2 0 0 0 . 0 0 0 . 3 0 2 0 . 0 . 0 2 0 0 . 0 0 0 . 0 . 6 . . 0 0 0', 
						'. 0 . 2 0 0 0 3 0 0 0 2 . 0 . 0 . 0 0 0 0 0 0 . . . . 0 8 . . 0 0 0 0 0 0 0 . 3 . 0 2 . 0 0 0 0 0', 
						'1 0 0 0 . 2 0 2 0 . 3 0 0 0 0 . 0 . 0 1 0 . 0 0 0 0 0 0 4 . . 0 0 . 2 0 0 0 0 0 0 0 0 . 3 0 3 0 4 . 0 . 0 . . 0 . . 0 0 0 0 0 1', 
						'3 0 2 . 0 0 0 1 . 0 0 0 . 0 2 0 . 0 . 0 . 0 . 0 0 . 3 0 3 0 0 0 0 0 0 0 0 0 1 0 0 . . . . . 0 0 0 9 . 0 0 . . 0 0 0 0 0 1 0 0 0', 
						'10 . . . . . . . 0 0 0 0 0 0 . . 0 . . . . 0 0 0 0 5 0 0 0 0 8 . 6 0 2 . 0 2 0 . . 0 0 0 0 . 0 . . . 0 . 0 0 0 . . . 0 2 0 . . .', 
						'1 0 0 0 . . 4 . 0 . 0 . 0 0 0 0 0 2 0 . 3 0 . 0 0 0 0 0 0 0 2 0 0 . 0 . . 3 0 0 0 3 . 0 0 0 0 . 4 0 0 0 . 2 0 . . . . 0 0 0 4 .', 
						'1 0 0 0 4 . . . 0 . 0 1 0 0 0 0 0 2 0 0 0 . . 0 0 0 0 . 2 0 . 0 3 . 0 0 0 0 4 0 0 . 0 . 2 0 0 4 0 0 0 0 0 . . . 4 . . . 0 0 0 0', 
						'. . . 0 0 0 0 0 4 0 0 0 1 0 3 0 0 0 . . 0 . . 0 6 . . . 0 0 0 0 0 0 0 0 3 0 . 3 0 3 . 0 . 0 . 0 0 . 0 0 . 0 0 0 0 0 1 0 0 0 . 2', 
						'. . 0 0 . 4 . . 7 . 0 . 0 0 0 0 . 0 0 2 0 . 2 0 . 0 2 0 0 0 0 1 . 0 . 0 . 3 . 0 0 0 0 0 0 0 0 0 0 . 0 . . 0 . 0 0 2 0 . 4 0 2 0', 
						'1 0 0 0 0 0 0 0 0 . . 0 . 0 . 2 0 3 0 3 . 0 0 0 0 0 0 0 0 . 2 0 0 . 0 . 0 0 0 0 0 2 0 . 0 . 0 . 8 0 0 . 0 . 0 3 . . . . 0 3 0 .', 
						'4 . 0 0 0 0 2 . . . 0 . . 0 0 0 0 0 0 3 0 0 . 0 0 . 0 0 6 0 2 0 0 . . . . 0 0 1 1 0 0 0 0 0 2 0 0 2 . 0 . 0 . 0 0 0 0 0 2 0 0 0', 
						'0 0 0 0 0 0 0 . 2 . 0 . . 3 0 . 0 0 0 0 0 0 . 4 0 . . 0 1 0 0 0 0 3 0 0 0 0 1 0 11 0 2 . 0 . 0 0 . 0 0 0 0 . . 0 . . . . . . 0 0', 
						'1 0 0 0 0 0 0 0 0 2 0 . 0 . . 3 0 . 0 2 0 0 0 0 0 0 4 0 0 . . 3 0 . . . 0 0 0 0 0 0 0 0 0 . . 0 0 . . . 0 0 3 0 0 0 0 . . 6 0 0', 
						'. 0 . . . . . . 2 0 . 0 0 0 0 . 0 0 0 0 . 2 0 . 0 . 0 . 0 0 11 . 0 . 0 . . 0 0 0 0 . 0 7 . 0 1 0 0 4 0 0 . . 0 0 0 0 1 0 0 0 0 1', 
						'2 . 0 0 0 1 0 . 0 0 0 1 0 0 0 . 0 . 4 0 3 . 0 . 0 . 0 0 0 . 0 . 0 . 0 1 0 0 0 5 0 0 1 0 . 3 . 0 . 0 0 0 0 0 0 0 . . . . . . . 9',
						'. 3 . 0 0 0 0 0 1 0 0 0 . 0 . . 3 0 . 2 0 4 0 0 0 0 0 0 0 0 . 0 . . . . 2 . 0 . 0 0 0 0 . 0 0 0 0 0 . 2 0 . 0 . 0 . 0 0 0 8 . 0 . 0 2 0 . 0 0 0 0 . 4 0 0 . . . 5',
						'1 0 0 0 1 0 0 0 0 0 . 2 0 0 . 0 . 2 0 0 0 0 . 3 0 0 0 0 . 2 0 0 0 0 . 0 0 0 0 0 5 . . . 0 0 . . . 0 0 0 0 0 0 0 0 . . 0 1 0 . 0 . 2 0 . 10 0 0 . 0 0 0 0 . . . 0 3',
						'1 0 0 0 1 0 0 0 1 0 . 2 0 0 0 1 0 0 0 0 0 3 . . 0 5 0 2 . 0 0 0 0 0 . 0 0 0 0 . 2 0 . . 0 . 12 0 0 0 0 0 . 0 . 0 2 . 0 . 0 0 0 . 0 0 0 0 . 0 . . . . . . . . 0 4 .'


]

	var index = localStorage.getItem('island-movelevel');
	document.getElementById("level").selectedIndex = index;
	if(null == index)
	{
		index = 0;
	}
	
	var set=""
	var data_str=""
	var data_arr
	var data_arr_org
	var start=1
	var path=""
	
	
	function store_level()
	{
		if (typeof(Storage) !== "undefined") {			
		  localStorage.setItem("island-movelevel", index);
		}
   }
	
	
	function loadgame(){
	for (i = 0; i < 100; i++) {
			  element = document.getElementById("cell"+(i+1));
			  element.className = "plot";
			  element.innerHTML = "";
	}
		index = document.getElementById("level").value -1;
		start=1;
		data_str = data[index];
		data_arr_org = data_str.split(" ");
		data_arr = data_str.split(" ");
		for (i = 0; i < data_arr_org.length; i++) 
			data_arr[i]= "1";
		console.log(data_arr);
		setSize();
		draw_board();
		path=""

	}
	
	function draw_board(){
		var c=0;
		var l=1;
       var n =  Math.sqrt(data_arr.length);
		for (i = 0; i < data_arr_org.length; i++) {
			if(data_arr[i]==1 && data_arr_org[i] != "." && data_arr_org[i] > 0)
				c=c+1;
			if(data_arr[i]==1 && data_arr_org[i] == "." )
				c=c+1;
			if(data_arr[i]==0 && data_arr_org[i] == 0 )
				c=c+1;
		
			belement = document.getElementById("bcell"+(i+1));
			belement.className = "land-broder";
			belement.style.borderTop = "4px solid transparent";
			belement.style.borderBottom = "4px solid transparent";
			belement.style.borderLeft = "4px solid transparent";
			belement.style.borderRight = "4px solid transparent";
			if (data_arr_org[i] != "." && data_arr_org[i] > 0) {
				element = document.getElementById("cell"+(i+1));
				element.className = "land land_"+n;
				element.innerHTML = "<p style=\"color: #1B5E20;\"><b>"+data_arr_org[i]+"</b></p>";
			}
			else if (data_arr[i]=="1")	{
				element = document.getElementById("cell"+(i+1));
				element.className = "land";
				
			}
			else if (data_arr[i]=="0")	{
				element = document.getElementById("cell"+(i+1));
				element.className = "water";
				var y = i%n; 
				var x = Math.floor(i/n);
				console.log(i,x,y)
				if (x-1>-1)
				{
					var k = ((x-1)*n)+(y);
					console.log(k,data_arr[k])
					if(data_arr[k]=="1")
						belement.style.borderTop = "4px solid #795548";
				}
				if (x+1<n)
				{
					var k = ((x+1)*n)+(y);
					console.log(k,data_arr[k])
					if(data_arr[k]=="1")
						belement.style.borderBottom = "4px solid #795548";
				}
				if (y-1>-1)
				{
					var k = (x*n)+(y-1);
					console.log(k,data_arr[k])
					if(data_arr[k]=="1")
						belement.style.borderLeft = "4px solid #795548";
				}
				if (y+1<n)
				{
					var k = (x*n)+(y+1);
					console.log(k,data_arr[k])
					if(data_arr[k]=="1")
						belement.style.borderRight = "4px solid #795548";
				}					
			}
		}
		
		if (c==data_arr_org.length)
		{
			document.getElementById("finished").style.visibility ="visible";
			document.getElementById("finished").style.opacity = "1";
		}
		
	}
	
	function clean_data()
	{
		for (i = 0; i < data_arr.length; i++) {
			if (data_arr[i] == "3") 
				data_arr[i]=1;
		}
	}
	

	
	
	function move(k) {
		console.log(k,data_arr_org[k-1],data_arr[k-1])
		if (data_arr_org[k-1] != "." && data_arr_org[k-1] > 0)
		{
		}
		else
		{
			if(data_arr[k-1]=="1")
				data_arr[k-1]="0";
			else
				data_arr[k-1]="1";
		}
		console.log(k,data_arr_org[k-1],data_arr[k-1]);
		console.log(data_arr);
		draw_board();
	}
	
	function setnextmove(x,y,n)
	{
		var k = (x*n)+(y);
		if(data_arr[k]==1)
			data_arr[k]=3;
		
	}
	
	function findnext(x,y,n){
		if (x-2>-1 && y-1>-1)
			setnextmove(x-2,y-1,n)
		if (x-2>-1 && y+1<n)
			setnextmove(x-2,y+1,n)
		if (x+2<n && y-1>-1)
			setnextmove(x+2,y-1,n)
		if (x+2<n && y+1<n)
			setnextmove(x+2,y+1,n)
		if (x-1>-1 && y-2>-1)
			setnextmove(x-1,y-2,n)
		if (x-1>-1 && y+2<n)
			setnextmove(x-1,y+2,n)
		if (x+1<n && y-2>-1)
			setnextmove(x+1,y-2,n)
		if (x+1<n && y+2<n)
			setnextmove(x+1,y+2,n)
	}
	
	function newgame(){
		index = index+1;
		document.getElementById("levelname").innerHTML = "Level : "+index;
		loadgame();
	}
	
	
	function undo(){
	console.log("path : "+path)
	path_arr = path.split(",");
	if(path_arr.length==2)
	{
	loadgame();
	}
	if (path_arr.length>2){
	var p = path_arr[0];
	console.log("p : "+p+" : "+data_arr[p-1])
	data_arr[p-1]=1;
	clean_data();
	if (path_arr.length>2) {
		var k = path_arr[1];
		console.log("k : "+k+" : "+data_arr[k-1])
		var n = Math.sqrt(data_arr.length);
		var y = (k-1)%n; 
		var x = Math.floor((k-1)/n); 
		findnext(x,y,n);
	}
	path=""
	for (i = 1; i < path_arr.length-1; i++) {
		path=path+path_arr[i]+','
		}
	console.log("path : "+path)	
	draw_board();	
	}
	


	}
	
	function solve(){
	    var n =  Math.sqrt(data_arr_org.length);
		for (i = 0; i < data_arr_org.length; i++) {
			belement = document.getElementById("bcell"+(i+1));
			belement.className = "land-broder";
			belement.style.borderTop = "4px solid transparent";
			belement.style.borderBottom = "4px solid transparent";
			belement.style.borderLeft = "4px solid transparent";
			belement.style.borderRight = "4px solid transparent";
			if (data_arr_org[i] != "." && data_arr_org[i] > 0) {
				element = document.getElementById("cell"+(i+1));
				element.className = "land land_"+n;
				element.innerHTML = "<p style=\"color: #1B5E20;\"><b>"+data_arr_org[i]+"</b></p>";
			}
			else if (data_arr_org[i]!="0")	{
				element = document.getElementById("cell"+(i+1));
				element.className = "land";
				
			}
			else if (data_arr_org[i]=="0")	{
				element = document.getElementById("cell"+(i+1));
				element.className = "water";
				var y = i%n; 
				var x = Math.floor(i/n);
				if (x-1>-1)
				{
					var k = ((x-1)*n)+(y);
					if(data_arr_org[k]!="0")
						belement.style.borderTop = "4px solid #795548";
				}
				if (x+1<n)
				{
					var k = ((x+1)*n)+(y);
					if(data_arr_org[k]!="0")
						belement.style.borderBottom = "4px solid #795548";
				}
				if (y-1>-1)
				{
					var k = (x*n)+(y-1);
					if(data_arr_org[k]!="0")
						belement.style.borderLeft = "4px solid #795548";
				}
				if (y+1<n)
				{
					var k = (x*n)+(y+1);
					if(data_arr_org[k]!="0")
						belement.style.borderRight = "4px solid #795548";
				}					
			}
		}
	}
	
	function closefinish(){
			document.getElementById("finished").style.visibility ="hidden";
			document.getElementById("finished").style.opacity = "0";
			index=index+1;
			if(index>119)
			{
					index =119
			}
			store_level();
			document.getElementById("level").selectedIndex = index;
			loadgame();
	}
	function closegameover(){
			document.getElementById("gameover").style.visibility ="hidden";
			document.getElementById("gameover").style.opacity = "0";
			loadgame();
	}
	
	function closehelp(){
			document.getElementById("help").style.visibility ="hidden";
			document.getElementById("help").style.opacity = "0";
	}
	function help(){
			document.getElementById("help").style.visibility ="visible";
			document.getElementById("help").style.opacity = "1";
	}
	
	</script>
	
  </body>
</html>
